-- Во всех задачах правильно построил подзапросы и JSON-объекты. В отличие от эталонного решения везде 
-- добавил ORDER BY чтобы элементы в массивах шли по порядку ID, а не как попало. И обернул все в COALESCE
-- с JSON_ARRAY(), чтобы вместо null всегда получать пустые массивы.

-- Единственный косяк был в третьей задаче. Я подумал что входные и выходные материалы мастерской лежат 
-- в одной таблице с флажком is_input, а оказалось что для выходных есть отдельная таблица workshop_products.
-- Нужно было внимательнее изучить структуру базы перед написанием запросов.